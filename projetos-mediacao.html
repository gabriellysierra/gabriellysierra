<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mediação e Encontros | Gabrielly Sierra</title>
    <!-- Font Awesome 6 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="assets/css/style.css?v=9">
</head>

<body>
    <!-- Preloader -->
    <div id="preloader">
        <img src="assets/img/preloader-icon.png" alt="Carregando..." class="preloader-icon">
    </div>

    <header>
        <a href="index.html" class="logo-link">
            <img src="assets/img/logo.png" alt="Gabrielly Sierra" class="main-logo">
        </a>
        <nav>
            <ul>
                <li><a href="about.html">sobre</a></li>
                <li><a href="projetos.html" class="active">projetos</a></li>
                <li><a href="textos.html">textos</a></li>
                <li><a href="contato.html">contato</a></li>
            </ul>
        </nav>
    </header>

    <header class="projects-editorial-header">
        <div class="projects-header-container">
            <!-- Conteúdo Intro -->
            <div class="projects-intro-col">
                <h1 class="projects-main-title">Encontros</h1>
                <p class="projects-intro-text">
                    Participações em festivais literários, feiras e eventos culturais, promovendo o diálogo sobre a
                    literatura, a infância e os processos de criação.
                </p>
            </div>

            <!-- Menu de Navegação (Links) -->
            <nav class="projects-nav-col">
                <a href="projetos-leitura.html" class="projects-nav-item">leitura</a>
                <a href="formacoes.html" class="projects-nav-item">formação</a>
                <a href="projetos-mediacao.html" class="projects-nav-item active">encontros</a>
                <a href="atelie.html" class="projects-nav-item">ateliê</a>
            </nav>
        </div>
    </header>



    <main>
        <div class="events-page-wrapper">

            <!-- MINIMALIST EVENT GRID -->
            <div class="minimal-event-grid">

                <!-- Item 1: FliAraxá -->
                <div class="minimal-card" onclick="document.getElementById('btn-fliaraxa').click()">
                    <div class="minimal-header">
                        <span>2025 /</span>
                        <span>FLIARAXÁ</span>
                    </div>
                    <div class="minimal-img-container">
                        <img src="assets/img/lfliaraxa2.jpeg" alt="FliAraxá 2025" class="minimal-img">
                    </div>
                    <div class="minimal-desc">
                        Festival literário em Araxá, MG. Mediação da mesa 'Pontes Narrativas'.
                    </div>

                    <!-- Hidden Button for Modal Logic -->
                    <button id="btn-fliaraxa" class="btn-details" style="display: none;" data-title="FliAraxá 2025"
                        data-desc="<h3>Mediadora da mesa 'Pontes Narrativas na Literatura Infantil'</h3>
<p><strong><i class='fa-regular fa-calendar'></i> 4 de out de 2025<br><i class='fa-solid fa-location-dot'></i> Araxá, MG</strong></p>

Participantes da mesa: **Ina Arefieva, Laura Gouveia, Luciana Olivier e Dilse Aparecida Rosa**.

A mesa discutiu sobre as relações entre literatura, infância e processos de criação, refletindo sobre a importância da leitura e da literatura na formação de novos leitores."
                        data-images='["assets/img/lfliaraxa2.jpeg", "assets/img/fliaraxa1.jpeg"]'
                        data-item-mode="standard" data-actions='[
                            {"type": "youtube", "url": "https://www.youtube.com/embed/frF3zWfSeis"},
                            {"type": "card", "url": "https://fliaraxa.com.br/pontes-narrativas-na-literatura-infantil/", "title": "Ler Matéria Oficial no site do FliAraxá", "img": "assets/img/fliaraxa1.jpeg"}
                        ]'>
                    </button>
                </div>

                <!-- Item 2: Oficina Mediação -->
                <div class="minimal-card" onclick="document.getElementById('btn-oficina').click()">
                    <div class="minimal-header">
                        <span>2026 /</span>
                        <span>OFICINA</span>
                    </div>
                    <div class="minimal-img-container">
                        <img src="assets/img/Oficina_Euclides-24-02-PNAB.png" alt="Oficina Mediação e Criação"
                            class="minimal-img">
                    </div>
                    <div class="minimal-desc">
                        Oficina teórico-prática na Biblioteca Euclides da Cunha em São Carlos.
                    </div>

                    <!-- Hidden Button for Modal Logic -->
                    <button id="btn-oficina" class="btn-details" style="display: none;"
                        data-title="Oficina: Mediação e Criação"
                        data-desc="<h3>Oficina teórico-prática ministrada na Biblioteca Pública Euclides da Cunha - São Carlos</h3>
<p><strong><i class='fa-regular fa-calendar'></i> 23 de fev de 2026<br><i class='fa-solid fa-location-dot'></i> Biblioteca Euclides da Cunha - São Carlos, SP</strong></p>

A oficina propôs aos participantes um percurso de investigação sobre a materialidade do livro ilustrado e as estratégias de mediação para a infância, fomentando a formação de novos leitores."
                        data-images='["assets/img/Oficina_Euclides-24-02-PNAB.png"]' data-item-mode="flyer"
                        data-actions='[]'>
                    </button>
                </div>

            </div>


        </div>

        <!-- Shared Modal -->
        <div class="modal-overlay" id="project-modal">
            <div class="modal-content-wrapper editorial-modal">
                <span class="close-modal" id="modal-close"><i class="fa-solid fa-xmark"></i></span>

                <div class="modal-split-container">
                    <!-- Left Column: Narrative (Fixed/Independent Scroll) -->
                    <div class="modal-col-left">
                        <div class="modal-header">
                            <h2 class="modal-title-dynamic" id="modal-title-text"></h2>
                            <div class="modal-meta-line"></div> <!-- Decorative or for Date/Loc -->
                        </div>

                        <div class="modal-desc-body">
                            <div class="modal-desc" id="modal-description">
                                <!-- Dynamic Text -->
                            </div>

                            <!-- Embeds moved here to be part of the narrative flow -->
                            <div class="modal-embeds-grid" id="modal-embeds-container" style="display: none;">
                                <!-- Dynamic Embeds -->
                            </div>
                        </div>
                    </div>

                    <!-- Right Column: Visuals (Scrollable Gallery) -->
                    <div class="modal-col-right">
                        <div class="modal-gallery" id="modal-gallery-container">
                            <!-- Dynamic Images -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Lightbox Overlay for Zoom -->
        <div class="lightbox-overlay" id="lightbox-zoom">
            <span class="lightbox-close"><i class="fa-solid fa-xmark"></i></span>
            <img src="" alt="Zoom" class="lightbox-img" id="lightbox-img-element">
        </div>

    </main>

    <div class="back-to-projects-wrapper">
        <a href="projetos.html" class="back-to-projects">← voltar para projetos</a>
    </div>

    <footer>
        <div class="footer-illustration">
            <img src="assets/img/dog-footer.png" alt="Ilustração" class="footer-dog">
        </div>
        <div class="social-icons">
            <a href="https://www.instagram.com/gabriellysierra/?hl=pt" target="_blank"><i
                    class="fa-brands fa-instagram"></i></a>
            <a href="https://www.tiktok.com/@gabrielly.sierra" target="_blank"><i class="fa-brands fa-tiktok"></i></a>
            <a href="https://www.youtube.com/@gabriellysierra" target="_blank"><i class="fa-brands fa-youtube"></i></a>
            <a href="https://www.linkedin.com/in/gabriellysierra/" target="_blank"><i
                    class="fa-brands fa-linkedin-in"></i></a>
        </div>
    </footer>

    <!-- Modal Script -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const modal = document.getElementById('project-modal');
            const closeBtn = document.getElementById('modal-close');
            const modalTitle = document.getElementById('modal-title-text');
            const modalDesc = document.getElementById('modal-description');
            const modalGallery = document.getElementById('modal-gallery-container');
            const modalEmbeds = document.getElementById('modal-embeds-container');
            const detailButtons = document.querySelectorAll('.btn-details');

            // Lightbox Elements
            const lightbox = document.getElementById('lightbox-zoom');
            const lightboxImg = document.getElementById('lightbox-img-element');
            const lightboxClose = document.querySelector('.lightbox-close');


            // Actions Helper
            const createEmbeds = (actions) => {
                modalEmbeds.innerHTML = '';
                if (!actions || actions.length === 0) {
                    modalEmbeds.style.display = 'none';
                    return;
                }

                modalEmbeds.style.display = 'grid';
                actions.forEach(action => {
                    if (action.type === 'youtube') {
                        const container = document.createElement('div');
                        container.className = 'video-embed-container';
                        container.innerHTML = `<iframe src="${action.url}" title="YouTube video player" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>`;
                        modalEmbeds.appendChild(container); // Append as HTML node
                    } else if (action.type === 'card') {
                        const linkCard = document.createElement('a');
                        linkCard.href = action.url;
                        linkCard.className = 'link-card';
                        linkCard.target = '_blank';
                        linkCard.innerHTML = `
                             <img src="${action.img}" class="link-card-img" alt="Link Preview">
                             <div class="link-card-content">
                                <h4 class="link-card-title">${action.title}</h4>
                                <span class="link-card-meta"><i class="fa-solid fa-arrow-up-right-from-square"></i> Acessar Link Externo</span>
                             </div>
                         `;
                        modalEmbeds.appendChild(linkCard);
                    }
                });
            }

            detailButtons.forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.stopPropagation(); // Prevent bubbling if embedded
                    // Get Data
                    const title = btn.getAttribute('data-title');
                    const desc = btn.getAttribute('data-desc');
                    const images = JSON.parse(btn.getAttribute('data-images') || '[]');
                    const mode = btn.getAttribute('data-item-mode') || 'standard';

                    let actions = [];
                    const actionsAttr = btn.getAttribute('data-actions');
                    if (actionsAttr) {
                        try {
                            actions = JSON.parse(actionsAttr);
                        } catch (e) {
                            console.error("Error parsing actions JSON", e);
                        }
                    }

                    // Populate Modal Title & Desc
                    if (modalTitle) modalTitle.textContent = title;

                    let formattedDesc = desc
                        .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                        .replace(/\n/g, '<br>');
                    modalDesc.innerHTML = formattedDesc;

                    // Reset Gallery Classes
                    modalGallery.className = 'modal-gallery';
                    if (mode === 'flyer') {
                        modalGallery.classList.add('flyer-mode');
                    }

                    // Populate Gallery
                    modalGallery.innerHTML = '';
                    images.forEach(imgSrc => {
                        const img = document.createElement('img');
                        img.src = imgSrc;
                        img.alt = title;
                        // Add click to zoom
                        img.addEventListener('click', () => {
                            lightboxImg.src = imgSrc;
                            lightbox.classList.add('active');
                        });
                        modalGallery.appendChild(img);
                    });

                    // Populate Embeds
                    createEmbeds(actions);

                    // Show Modal
                    modal.classList.add('active');
                });
            });

            // Close Actions
            const closeModal = () => {
                modal.classList.remove('active');
                // Stop videos when closing
                setTimeout(() => {
                    const iframes = modalEmbeds.querySelectorAll('iframe');
                    iframes.forEach(iframe => {
                        const src = iframe.src;
                        iframe.src = '';
                        iframe.src = src; // Reset source to stop audio/video
                    });
                }, 300);
            };

            closeBtn.addEventListener('click', closeModal);

            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    closeModal();
                }
            });

            // Close Lightbox
            lightbox.addEventListener('click', () => {
                lightbox.classList.remove('active');
            });

            if (lightboxClose) {
                lightboxClose.addEventListener('click', () => {
                    lightbox.classList.remove('active');
                });
            }

            // Escape key
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    if (lightbox.classList.contains('active')) {
                        lightbox.classList.remove('active');
                    } else if (modal.classList.contains('active')) {
                        closeModal();
                    }
                }
            });
        });
    </script>


    <script src="assets/js/script.js"></script>
</body>

</html>